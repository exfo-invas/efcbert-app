<div class="main-content">
  <div class="header-section">
    <p-table [value]="[standardEvent]" responsiveLayout="scroll" class="stndEvntTable" [size]="'small'">
      <ng-template pTemplate="header">
        <tr>
          <th style="text-align: center;">FC Rate</th>
          <th style="text-align: center;">Frame Size</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td style="text-align: center;">{{ row.fcRate }}</td>
          <td style="text-align: center;">{{ row.frameSize }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>


  <p-tabView>
    <p-tabPanel header="Active Event">
      <p-table [value]="trafficDisruptions" responsiveLayout="scroll" [size]="'small'">
        <ng-template #caption>
          <div class="heading">
            <strong>Traffic Analysis</strong>
            <div class="tags">
              <p-tag severity="danger" *ngIf="!eventStatusBol" value="Test Not Started" />
              <p-tag severity="info" *ngIf="eventStatusBol" value="Started" />
              <p-progress-spinner *ngIf="apiStatus" strokeWidth="8" fill="transparent" animationDuration=".5s"
                [style]="{ width: '20px', height: '20px' }"></p-progress-spinner>
            </div>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center;">Type</th>
            <th style="text-align: center;">Current Utilization (%)</th>
            <th style="text-align: center;">Measured Throughput (Mbps)</th>
            <th style="text-align: center;">Transfer Speed (MB/s)</th>
            <th style="text-align: center;">Measured Line Speed (Gbps)</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
          <tr>
            <td style="text-align: center;">{{ row.type }}</td>
            <td style="text-align: center;">{{ row.currentUtilization }}</td>
            <td style="text-align: center;">{{ row.measuredThroughput }}</td>
            <td style="text-align: center;">{{ row.transferSpeed }}</td>
            <td style="text-align: center;">{{ row.measuredLineSpeed }}</td>
          </tr>
        </ng-template>
      </p-table>

      <p-table [value]="frameLosses" responsiveLayout="scroll" [size]="'small'">
        <ng-template #caption>
          <div class="flex items-center justify-between padding-0">
            <strong>Frame loss</strong>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center;">Type</th>
            <th style="text-align: center;">Byte Count</th>
            <th style="text-align: center;">Frame Rate</th>
            <th style="text-align: center;">Frame Count</th>
            <th style="text-align: center;">Frame Loss Rate</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
          <tr>
            <td style="text-align: center;">{{ row.type }}</td>
            <td style="text-align: center;">{{ row.byteCount }}</td>
            <td style="text-align: center;">{{ row.frameRate }}</td>
            <td style="text-align: center;">{{ row.frameCount }}</td>
            <td rowspan="2" *ngIf="row.type !== 'Rx'" class="frmlsRtCol">{{ row.frameLossRate }}</td>
          </tr>
        </ng-template>
      </p-table>

      <p-table [value]="[latencyEvent]" responsiveLayout="scroll" [size]="'small'">
        <ng-template #caption>
          <div class="flex items-center justify-between padding-0">
            <strong>Latency</strong>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th style="text-align: center;">Last</th>
            <th style="text-align: center;">Min</th>
            <th style="text-align: center;">Max</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-row>
          <tr>
            <td style="text-align: center;">{{ row.last }}</td>
            <td style="text-align: center;">{{ row.min }}</td>
            <td style="text-align: center;">{{ row.max }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>

    <p-tabPanel header="Hourly Event">
      <p-table [value]="hourlyEvents" [scrollable]="true" scrollHeight="300px" [size]="'small'">
        <ng-template #caption>
          <div class="heading">
            <div class="tags">
              <p-tag severity="danger" *ngIf="!eventStatusBol" value="Test Not Started" />
              <p-tag severity="info" *ngIf="eventStatusBol" value="Time to Next Hour: {{ timeToNextHour }}" />
              <p-progress-spinner *ngIf="apiStatus" strokeWidth="8" fill="transparent" animationDuration=".5s"
                [style]="{ width: '20px', height: '20px' }"></p-progress-spinner>
            </div>
          </div>
        </ng-template>

        <ng-template pTemplate="header">
          <tr>
            <th>Hour No.</th>
            <th>Utilization</th>
            <th>Throughput</th>
            <th>Latency</th>
            <th>Frames loss rate(%)</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-hourlyEvent>
          <tr>
            <td>{{ hourlyEvent.no }}</td>
            <td>{{ hourlyEvent.utilization }}</td>
            <td>{{ hourlyEvent.throughput }}</td>
            <td>{{ hourlyEvent.latency }}</td>
            <td>{{ hourlyEvent.framesLoss }}</td>
          </tr>
        </ng-template>
      </p-table>
    </p-tabPanel>
  </p-tabView>
</div>